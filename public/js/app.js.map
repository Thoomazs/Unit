{"version":3,"sources":["helpers.js","form.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["function Helpers() {\n\n    this.init = function() {\n        var _this = this;\n\n        // tooltip\n        if ( $.fn.tooltip )\n            $( \"[data-toggle='tooltip']\" ).tooltip( \"destroy\" ).tooltip();\n\n        // popover\n        if ( $.fn.popover )\n            $( \"[data-toggle='popover']\" ).popover( \"destroy\" ).popover();\n\n        // auto resize\n        if ( $.fn.yaar )\n            $( \"textarea[data-resize='true']\" ).yaar();\n\n        // magnific popup\n        if ( $.fn.magnificPopup ) {\n            $( \"[data-popup='true']\" ).magnificPopup( {\n                type                : 'image',\n                closeOnContentClick : true,\n                closeBtnInside      : false,\n                fixedContentPos     : true,\n                mainClass           : 'mfp-no-margins mfp-with-zoom', // class to remove default margin from left and right side\n                image               : {\n                    verticalFit : true,\n                    titleSrc    : function( item ) {\n                        return item.el.attr( 'title' );\n                    }\n                },\n                zoom                : {\n                    enabled  : true,\n                    duration : 300 // don't foget to change the duration also in CSS\n                }\n            } );\n\n            $( \"[data-popup='gallery']\" ).each( function() {\n                $( this ).magnificPopup( {\n                    delegate            : 'a[data-popup]',\n                    type                : 'image',\n                    gallery             : {\n                        enabled  : true,\n                        tCounter : '%curr% / %total%'\n                    },\n                    closeOnContentClick : true,\n                    closeBtnInside      : false,\n                    fixedContentPos     : true,\n                    mainClass           : 'mfp-no-margins mfp-with-zoom',\n                    image               : {\n                        verticalFit : true,\n                        titleSrc    : function( item ) {\n                            return item.el.attr( 'title' );\n                        }\n                    }\n                } );\n            } );\n        }\n\n        // warning modal on href\n        $( \"[data-warning='true']\" ).on( \"click\", function( e ) {\n            e.preventDefault();\n\n            var $this = $( this );\n            var href = $this.attr( \"href\" );\n\n            _this.modal( {\n                title   : \"Jste si jistý?\",\n                body    : '<div class=\"alert alert-danger text-center\" style=\"margin: -16px -15px;border-radius: 0;padding: 20px 15px;\"><strong>Opravdu</strong> chcete tuto akci provést?</div>',\n                buttons : [\n                    {\n                        classes : \"btn-default\",\n                        title   : \"Zrušit\",\n                        dismiss : true\n                    },\n                    {\n                        href    : href,\n                        classes : \"btn-danger\",\n                        title   : \"Provést\",\n                        dismiss : false\n                    }\n                ]\n            } );\n\n            if ( $this.is( \"button, input\" ) ) {\n                $( \"#modal-javascript .btn-danger\" ).off().on( \"click\", function() {\n                    $this.closest( \"form\" ).submit();\n                } )\n            }\n\n        } );\n\n        // wysiwyg editor\n        if ( $.fn.tinymce ) {\n            $( \"textarea[data-editor='true'][id]\" ).tinymce( {\n                script_url            : '/tinymce/tinymce.min.js',\n                content_css           : [\"/css/vendor.css\"],\n                theme                 : \"modern\",\n                preview_styles        : false,\n                statusbar             : false,\n                plugins               : \"link image autoresize preview code table autoresize fullscreen\",\n                toolbar               : \"fullscreen | undo redo | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | code removeformat\",\n                autoresize_min_height : \"100%\",\n                entity_encoding       : \"raw\",\n                relative_urls         : false\n            } );\n        }\n\n        // datepicker\n        if ( $.fn.pickadate ) {\n            $( \"input[data-toggle='datepicker']\" ).pickadate( {} );\n        }\n        if ( $.fn.pickatime ) {\n            $( \"input[data-toggle='timepicker']\" ).pickatime( {\n                clear    : 'Smazat',\n                format   : 'HH:i',\n                interval : 30,\n                min      : [6, 0],\n                max      : [22, 0]\n            } );\n        }\n\n        //height\n        if ( $( \"[data-height]\" ).length > 0 ) {\n            var fce = function() {\n                var $data_height = $( \"[data-height]\" );\n                $data_height.each( function() {\n                    var t = $( this );\n                    t.css( \"height\", \"\" );\n                } );\n                $data_height.each( function() {\n                    var t = $( this );\n                    t.css( \"height\", \"\" );\n                    if ( $( window ).width() > 767 ) {\n\n                        if ( t.css( \"float\" ) != \"none\" || t.parent().css( \"float\" ) != \"none\" ) {\n                            var height = Number( t.data( \"height\" ) );\n                            var bonus = (t.data( \"height-bonus\" )) ? Number( t.data( \"height-bonus\" ) ) : 0;\n                            var newHeight = (t.parent().height()) * (height / 100) + bonus;\n                            if ( newHeight > height ) t.css( \"height\", newHeight + \"px\" );\n                        } else {\n                            t.css( \"height\", \"\" );\n                        }\n                    }\n                } )\n            };\n            $( window ).resize( fce ).resize();\n\n        }\n\n        $( \"#content\" ).css( {'padding-bottom' : $( \"#footer\" ).height() + 'px'} );\n\n    };\n\n    // Modal\n    this.modal = function( options ) {\n\n        if ( options == \"close\" ) {\n            $( \".modal\" ).remove();\n            $( \".modal-backdrop\" ).remove();\n            return;\n        }\n\n        options = $.extend( {\n            id      : \"modal-javascript\",\n            header  : true,\n            title   : \"Modal\",\n            body    : \"\",\n            footer  : true,\n            buttons : {},\n            modal   : {\n                keyboard : false,\n                backdrop : \"static\",\n                show     : true\n            },\n            remove  : false\n        }, options );\n\n        var o = '';\n        o += '<div class=\"modal fade\" id=\"' + options.id + '\">';\n        o += '    <div class=\"modal-dialog\">';\n        o += '        <div class=\"modal-content\">';\n\n        if ( options.header != false ) {\n            o += '        <div class=\"modal-header\">';\n            o += '            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>';\n            o += '            <h4 class=\"modal-title\">' + options.title + '</h4>';\n            o += '        </div>';\n        }\n\n        o += '            <div class=\"modal-body\">';\n        o += options.body;\n        o += '            </div>';\n\n        if ( options.footer != false ) {\n            o += '        <div class=\"modal-footer\">';\n\n            var length = options.buttons.length, element = null;\n            for ( var i = 0; i < length; i++ ) {\n                element = options.buttons[i];\n                var dismis, href;\n                if ( element.dismiss ) dismis = 'data-dismiss=\"modal\"'; else dismis = \"\";\n                if ( element.href ) href = 'href=\"' + element.href + '\" '; else href = \"\";\n                o += '        <a ' + href + ' class=\"btn btn-sm ' + element.classes + '\" ' + dismis + '>' + element.title + '</a>';\n            }\n        }\n\n        o += '        </div>';\n        o += '    </div>';\n        o += '</div>';\n\n        $( \".modal-backdrop\" ).remove();\n        if ( $( \"#\" + options.id ).length != 0 ) {\n            $( \"#\" + options.id ).remove();\n        }\n        $( \"body\" ).append( o );\n        $( \"#\" + options.id ).modal( options.modal );\n\n        if ( options.remove ) {\n            $( \"#\" + options.id ).on( 'hidden.bs.modal', function() {\n                $( this ).remove();\n            } )\n        }\n\n    };\n\n    this.loading = function( options ) {\n\n        $( '#modal-loading' ).modal( 'hide' );\n        $( \"#modal-loading\" ).on( 'hidden.bs.modal', function() {\n            $( this ).remove();\n        } );\n\n        if ( options != \"close\" ) {\n            options = $.extend( {\n                text  : \"Načítám…\",\n                icon  : true,\n                width : 100\n            }, options );\n\n            var o = '';\n            o += '<div class=\"text-center\">';\n            o += '  <p style=\"font-size: 35px; font-weight: 100; margin: 15px;\">';\n            if ( options.icon ) {\n                o += '      <i class=\"fa fa-spinner fa-spin\" style=\"font-size: 40px; vertical-align: middle; position: relative; top: -3px; margin-right: 15px;\"></i>';\n            }\n            o += '      ' + options.text;\n            o += '  </p>';\n            o += '</div>';\n\n            this.modal( {\n                id     : \"modal-loading\",\n                body   : o,\n                header : false,\n                footer : false,\n                remove : true\n            } )\n        }\n    };\n\n    this.dialog = function( options ) {\n\n        if ( options == \"close\" ) {\n            this.modal( \"close\" );\n            return;\n        }\n\n        options = $.extend( {\n            buttons : [\n                {\n                    href    : \"\",\n                    classes : \"btn-default\",\n                    title   : \"Ok\",\n                    dismiss : true\n                }\n            ],\n            header  : true,\n            remove  : true\n        }, options );\n\n        this.modal( options )\n    };\n\n    // Scroll to\n\n    this.scroll = function( options, callback ) {\n\n        options = $.extend( {\n            element   : \"body\",\n            container : \"body\",\n            animated  : true,\n            bonus     : 0\n        }, options );\n\n        $element = $( options.element );\n        $container = $( options.container );\n\n        if ( options.animated ) {\n            $container.animate( {\n                scrollTop : $element.offset().top - $container.offset().top + $( \"html\" ).scrollTop() + options.bonus\n            }, function() {\n                if ( typeof callback == \"function\" ) callback();\n            } );\n        } else {\n            $container.scrollTop(\n                $element.offset().top - $container.offset().top + $( \"html\" ).scrollTop() + options.bonus\n            );\n        }\n    };\n\n    // constructor after DOM load\n    var _this = this;\n    $( function() {\n        _this.init();\n    } )\n}\n\n// vytvoreni globalni promenne\nvar Helper = new Helpers();\n","$( function() {\n\n    // FORM\n\n    // form fix\n    $( \"form\" ).on( \"submit\", function() {\n        var $form = $( this );\n        var $files = $form.find( \"input[type='file']\" );\n        if ( $files.length > 0 ) {\n            $files.each( function() {\n                var $this = $( this );\n\n                if ( $this.val() == \"\" ) $this.attr( \"disabled\", \"disabled\" );\n            } )\n        }\n    } );\n\n    $( \".form-file input[type='file']\" ).off( \"change\" ).on( \"change\", function() {\n        var $this = $( this );\n        var file = $this.val().split( \"\\\\\" ).pop();\n        var $file = $this.closest( '.form-file' );\n        var $span = $file.find( 'span' );\n\n        if ( file !== \"\" ) {\n            $span.text( file );\n            $file.addClass( 'active' );\n        }\n        else {\n            $span.text( $span.data( 'title' ) );\n            $file.removeClass( 'active' );\n        }\n    } );\n\n    $( \".form-select select\" ).off( \"change\" ).on( \"change\", function() {\n        var $this = $( this );\n        var $select = $this.closest( \".form-select\" );\n        $select.addClass( 'active' );\n    } );\n\n\n    $(\".form-error\" ).off().on(\"click\", function() {\n        var $this = $( this );\n        $this.siblings(\"input,textarea\" ).focus();\n\n    });\n\n    $(\".form-group.has-error .form-control\" ).on(\"focus\", function() {\n        $( this ).siblings(\".form-error\").stop().fadeOut(300);\n    }).on(\"blur\", function() {\n        $( this ).siblings(\".form-error\").stop().fadeIn(300);\n    })\n\n    $(\".form-error\" ).each(function() {\n        var $this = $( this );\n        perc = 100;\n        while ( perc > 50 && $this[0].scrollWidth > $this.innerWidth() )\n        {\n            perc -= 5;\n            $this.css({'font-size': perc+'%','line-height': '20px'});\n        }\n    });\n\n    // SELECT (multiple relations)\n    var multiple_update = function() {\n        $( \".form-group ul.list-group.select .close\" ).off( \"click\" ).on( \"click\", function() {\n            var $li = $( this ).closest( \".list-group-item\" );\n            var $ul = $li.closest( '.list-group' );\n            var $input = $li.find( 'input[type=\"hidden\"]' );\n            var $select = $li.closest( '.form-group' ).find( \"select\" );\n            $select.find( 'option[value=\"' + $input.val() + '\"]' ).removeAttr( 'disabled' ).show();\n\n            $li.remove();\n\n            if ( $ul.find( \".list-group-item\" ).length == 0 ) $ul.addClass( 'hidden' );\n        } )\n    }\n\n    $( \"select.multiple\" ).off( \"change\" ).on( \"change\", function() {\n\n        var $this = $( this );\n        var $group = $this.closest( '.form-group' );\n        var $ul = $group.find( \"ul.list-group\" );\n        var o = '';\n        var $option = $this.find( \"option:selected\" );\n\n        if ( $option.length > 1 ) $option = $( $option[0] );\n\n        o += '<li class=\"list-group-item\">';\n        o += '   <input type=\"hidden\" name=\"' + $this.data( 'name' ) + '[]\" value=\"' + $option.val() + '\"/>';\n        o += '    ' + $option.text();\n        o += '   <a class=\"close\"><i class=\"fa fa-times\"></i></a>';\n        o += '</li>';\n\n        $ul.removeClass( 'hidden' );\n        $ul.append( o );\n\n        $option.attr( 'disabled', '' ).hide();\n\n        $this.find( \"option:first\" ).prop( \"selected\", true );\n\n        multiple_update();\n\n    } );\n\n    multiple_update();\n\n    $( \".form-group ul.list-group.select input[type='hidden']\" ).each( function() {\n        var $this = $( this );\n        var $select = $this.closest( '.form-group' ).find( \"select\" );\n\n        if ( $select.length == 1 ) {\n            $select.find( 'option[value=\"' + $this.val() + '\"]' ).prop( 'selected', true ).change();\n            $this.remove();\n        }\n        else {\n            $this.find(\"\")\n        }\n    } );\n\n    // DELETE\n    $( \".form-group ul.list-group.delete input[disabled]\" ).addClass(\"disabled\");\n\n    $( \".form-group ul.list-group.delete .close\" ).off( \"click\" ).on( \"click\", function() {\n        var $this = $( this );\n        var $li = $( this ).closest( \".list-group-item\" );\n        var $input = $li.find( 'input.disabled' );\n        var $inputs = $li.find( 'input:not(.disabled)' );\n\n        if( $li.hasClass(\"disabled\") )\n        {\n            $li.removeClass(\"disabled\");\n            $input.attr(\"disabled\",\"true\");\n            $inputs.removeAttr(\"disabled\");\n            $this.find(\"i.fa\" ).removeClass(\"fa-check\" ).addClass(\"fa-times\");\n        }\n        else {\n            $li.addClass(\"disabled\");\n            $input.removeAttr(\"disabled\");\n            $inputs.attr(\"disabled\",\"true\");\n            $this.find(\"i.fa\" ).addClass(\"fa-check\" ).removeClass(\"fa-times\");\n        }\n\n    } )\n} );\n"],"sourceRoot":"/source/"}